define("Numbers/JSNumber",[],function(){function e(e){if(e.toNumber)return e.toNumber();if(typeof e=="number")return e;throw"NaN"}function t(e){return e instanceof n||typeof e=="number"||e===n.Zero}var n=function(){var n=function(t){t=e(t),this.toNumber=function(){return t}};return n.prototype={isAGNumber:!0,isZero:function(e){return e||(e=1e-6),this.abs().toNumber()<e},equals:function(t,n){return t=e(t),n||(n=1e-6),this.subtract(t).abs().toNumber()<n},negative:function(){return new n(-this.toNumber())},abs:function(){var e=this.toNumber();return new n(e<0?-e:e)},inverse:function(){return new n(1/this.toNumber())},add:function(r){var i;if(r.toNumber){if(!t(r))return r.add(this);i=r.toNumber()}else i=e(r);return new n(this.toNumber()+i)},subtract:function(r){var i;if(r.toNumber){if(!t(r))return r.subtract(this).negative();i=r.toNumber()}else i=e(r);return new n(this.toNumber()-i)},multiply:function(r){var i;if(r.toNumber){if(!t(r))return r.multiply(this);i=r.toNumber()}else i=e(r);return new n(this.toNumber()*i)},divide:function(r){var i;if(r.toNumber){if(!t(r))return r.divide(this).inverse();i=r.toNumber()}else i=e(r);return new n(this.toNumber()/i)},toString:function(){return this.toNumber().toString()}},n}();n.Zero={isAGNumber:!0,toNumber:function(){return 0},isZero:function(){return!0},equals:function(t,r){return t=e(t),t.equals(n.Zero)},negative:function(){return n.Zero},abs:function(){return 0},inverse:function(){return new n(1/0)},add:function(e){return e.toNumber?e:new n(e)},subtract:function(e){return e.toNumber?e.negative():new n(e)},multiply:function(){return n.Zero},divide:function(){return n.Zero},toString:function(){return 0..toString()}};var r=["isZero","equals","negative","abs","inverse","add","subtract","multiply","divide"];for(var i in r)Number.prototype[r[i]]=function(e){return function(){return n.prototype[e].apply(new n(this.valueOf()),arguments)}}(r[i]);return n}),define("Matrix/Vector",["Numbers/JSNumber"],function(e){var t=function(){var t=function(){var t,n;if(arguments[0]instanceof Array){t=arguments[0].length,n=new Array(t);for(var r=0;r<t;r++)n[r]=arguments[0][r].toNumber?arguments[0][r]:new e(arguments[0][r])}else typeof arguments[0]=="number"&&(t=arguments[0],n=new Array(t));this.getLength=function(){return t},this.getValue=function(e){return n[e]},this.setValue=function(t,r){if(!r.toNumber){if(typeof r!="number")throw"not a number type!";r=new e(r)}n[t]=r},this.toArray=function(){var e=new Array(this.getLength());for(var t=0;t<e.length;t++)e[t]=this.getValue(t);return e}};return t.prototype={negative:function(){var e=new t(this.getLength());for(var n=0;n<e.getLength();n++)e.setValue(n,this.getValue(n).negative());return e},add:function(e){if(this.getLength()!==e.getLength())throw"The vectors must have the same length!";var n=new t(this.getLength());for(var r=0;r<n.getLength();r++)n.setValue(r,this.getValue(r).add(e.getValue(r)));return n},subtract:function(e){if(this.getLength()!==e.getLength())throw"The vectors must have the same length!";var n=new t(this.getLength());for(var r=0;r<n.getLength();r++)n.setValue(r,this.getValue(r).subtract(e.getValue(r)));return n},multiply:function(n){if(!n.toNumber){if(typeof n!="number")throw"value must be number!";n=new e(n)}var r=new t(this.getLength());for(var i=0;i<r.getLength();i++)r.setValue(i,this.getValue(i).multiply(n));return r},divide:function(e){if(!e.toNumber&&typeof e!="number")throw"value must be number!";var n=new t(this.getLength());for(var r=0;r<n.getLength();r++)n.setValue(r,this.getValue(r).divide(e));return n},dot:function(e){if(this.getLength()!==e.getLength())throw"The vectors must have the same length!";var t=null;for(var n=0;n<this.getLength();n++){var r=this.getValue(n).multiply(e.getValue(n));t=t?t.add(r):r}return t},equals:function(e){if(this.getLength()!==e.getLength())return!1;for(var t=0;t<this.getLength();t++)if(!this.getValue(t).equals(e.getValue(t)))return!1;return!0},toString:function(){var e="[";for(var t=0;t<this.getLength();t++)e+=this.getValue(t),t!=this.getLength()-1&&(e+=",");return e+="]",e}},t}();return t}),define("Matrix/Matrix",["Numbers/JSNumber","Matrix/Vector"],function(e,t){var n=function(){var n=function(t,n){var r=new Array(t*n);this.getNumRows=function(){return t},this.getNumColumns=function(){return n},this.getValue=function(e,t){return r[n*e+t]},this.setValue=function(t,i,s){if(!s.toNumber){if(typeof s!="number")throw"not a number type!";s=new e(s)}r[n*t+i]=s};for(var i=0;i<t;i++)for(var s=0;s<n;s++)this.setValue(i,s,e.Zero)};return n.prototype={setRow:function(e,n){if(!(n instanceof Array)){if(!(n instanceof t))throw"value must be an Array or Vector";n=n.toArray()}var r=Math.min(n.length,this.getNumColumns());for(var i=0;i<r;i++)this.setValue(e,i,n[i])},setColumn:function(e,n){if(!(n instanceof Array)){if(!(n instanceof t))throw"value must be an Array or Vector";n=n.toArray()}var r=Math.min(n.length,this.getNumRows());for(var i=0;i<r;i++)this.setValue(i,e,n[i])},setMatrix:function(e){if(!(e instanceof Array))throw"value must be an array!";var t=Math.min(e.length,this.getNumRows());for(var n=0;n<t;n++)this.setRow(n,e[n])},getRow:function(e){var n=new Array(this.getNumColumns());for(var r=0;r<n.length;r++)n[r]=this.getValue(e,r);return new t(n)},getColumn:function(e){var n=new Array(this.getNumRows());for(var r=0;r<n.length;r++)n[r]=this.getValue(r,e);return new t(n)},copy:function(){var e=new n(this.getNumRows(),this.getNumColumns());for(var t=0;t<e.getNumRows();t++)for(var r=0;r<e.getNumColumns();r++)e.setValue(t,r,this.getValue(t,r));return e},swapRows:function(e,t){if(e!==t){var n=this.getRow(e);this.setRow(e,this.getRow(t)),this.setRow(t,n)}},equals:function(e){if(e instanceof n){if(e.getNumRows()!==this.getNumRows()&&e.getNumColumns()!==this.getNumColumns())throw"Matrices must be same size.";for(var t=0;t<this.getNumRows();t++)for(var r=0;r<this.getNumColumns();r++)if(!this.getValue(t,r).equals(e.getValue(t,r)))return!1;return!0}throw"Must be of type Matrix."},determinant:function(){if(this.getNumRows()!==this.getNumColumns())throw"n x n Matrix required to determine determinant.";var e=this.getNumColumns();if(e===2){var t=this.getValue(0,0).multiply(this.getValue(1,1)),r=this.getValue(0,1).multiply(this.getValue(1,0));return t.subtract(r)}var i=null;for(var s=0;s<e;s++){var o=new n(e-1,e-1),u=0;for(var a=0;a<e;a++)if(a!=s){var f=this.getColumn(a).toArray().slice(1,e);o.setColumn(u++,f)}var l=this.getValue(0,s).multiply(o.determinant());i=i?s%2?i.subtract(l):i.add(l):l}return i},transpose:function(){var e=this,t=new n(e.getNumColumns(),e.getNumRows());for(var r=0;r<e.getNumRows();r++)for(var i=0;i<e.getNumColumns();i++)t.setValue(i,r,e.getValue(r,i));return t},add:function(e){if(!(e instanceof n))throw"input must be Matrix";if(this.getNumColumns()!=e.getNumColumns()&&this.getNumRows()!=e.getNumRows())throw"Both matrices must be m x n.";var t=new n(this.getNumRows(),this.getNumColumns());for(var r=0;r<t.getNumRows();r++)for(var i=0;i<t.getNumColumns();i++)t.setValue(r,i,this.getValue(r,i).add(e.getValue(r,i)))},subtract:function(e){if(!(e instanceof n))throw"input must be Matrix";if(this.getNumColumns()!=e.getNumColumns()&&this.getNumRows()!=e.getNumRows())throw"Both matrices must be m x n.";var t=new n(this.getNumRows(),this.getNumColumns());for(var r=0;r<t.getNumRows();r++)for(var i=0;i<t.getNumColumns();i++)t.setValue(r,i,this.getValue(r,i).subtract(e.getValue(r,i)))},multiply:function(){if(arguments[0]instanceof n){var e=arguments[0];if(this.getNumColumns()!=e.getNumRows())throw"This matrices number of columns must equal input's number of rows.";var r=new n(this.getNumRows(),e.getNumColumns());for(var i=0;i<r.getNumColumns();i++)for(var s=0;s<r.getNumRows();s++){var o=this.getRow(s),u=e.getColumn(i),a=o.dot(u);r.setValue(s,i,a)}return r}if(arguments[0]instanceof t){var f=arguments[0];if(this.getNumColumns()!=f.getLength())throw"The vector must be in R^n";var r=new t(f.getLength());for(var s=0;s<r.getNumRows();s++){var o=this.getRow(s),a=o.dot(f);r.setValue(s,a)}return r}var l=arguments[0];if(!l.toNumber&&typeof l!="number")throw"input must be Matrix, Vector, or Number";var r=new n(this.getNumRows(),this.getNumColumns());for(var s=0;s<r.getNumRows();s++)for(var i=0;i<r.getNumColumns();i++)r.setValue(s,i,this.getValue(s,i).multiply(l));return r},rowReduce:function(){var e=this;if(this.getNumRows()>this.getNumColumns())throw"m must be <= n";var t=0,n=0,r=this.copy();for(var i=0;i<r.getNumRows();i++){var s=function(){while(t<r.getNumColumns()){for(var e=n;e<r.getNumRows();e++)if(!r.getValue(e,t).isZero())return e;t++}throw"Not reducible."}();r.swapRows(s,n);var o=r.getValue(n,t),u=r.getRow(n).divide(o);r.setRow(n,u);for(var a=0;a<r.getNumRows();a++)if(a!==i){var f=r.getValue(a,t).negative(),l=r.getRow(a).add(u.multiply(f));r.setRow(a,l)}n++,t++}return r},inverse:function(){if(this.getNumRows()!==this.getNumColumns())throw"n x n Matrix required to determine inverse.";var e=n.Identity(this.getNumRows()),t=new n(this.getNumRows(),this.getNumColumns()*2);for(var r=0;r<this.getNumColumns();r++)t.setColumn(r,this.getColumn(r));for(var r=this.getNumColumns();r<this.getNumColumns()*2;r++)t.setColumn(r,e.getColumn(r-this.getNumColumns()));var i=t.rowReduce();for(var r=0;r<this.getNumColumns();r++)for(var s=0;s<this.getNumRows();s++){var o;r===s?o=i.getValue(s,r).equals(1):o=i.getValue(s,r).isZero();if(!o)throw"could not be inverted!"}var e=new n(this.getNumRows(),this.getNumColumns());for(var r=0;r<this.getNumColumns();r++)e.setColumn(r,i.getColumn(r+this.getNumColumns()));return e},toString:function(){var e="[";for(var t=0;t<this.getNumRows();t++)e+=this.getRow(t),t!=this.getNumRows()-1&&(e+=",");return e+="]",e}},n.Identity=function(e){var t=new n(e,e);for(var r=0;r<e;r++)t.setValue(r,r,1);return t},n}();return n}),define("Numbers/ComplexNumber",["Numbers/JSNumber"],function(e){var t=function(){var t=function(t,n){var r=t.isAGNumber?t:new e(t),i=n.isAGNumber?n:new e(n);this.getReal=function(){return r},this.getImaginary=function(){return i},this.toNumber=function(){var e=this.getReal().multiply(this.getReal()).add(this.getImaginary().multiply(this.getImaginary())).toNumber();return Math.sqrt(e)}};return t.prototype={isAGNumber:!0,isZero:function(e){return e||(e=1e-6),this.getReal().isZero()&&this.getImaginary().isZero()},equals:function(e,n){return n||(n=1e-6),e instanceof t?this.subtract(e).isZero():this.getImaginary().isZero()?this.getReal().subtract(e).abs().toNumber()<n:!1},negative:function(){return new t(this.getReal().negative(),this.getImaginary().negative())},abs:function(){var t=this.getReal().multiply(this.getReal()).add(this.getImaginary().multiply(this.getImaginary())).toNumber();return new e(Math.sqrt(t))},inverse:function(){return(new t(1,0)).divide(this)},add:function(e){return e instanceof t?new t(this.getReal().add(e.getReal()),this.getImaginary().add(e.getImaginary())):new t(this.getReal().add(e),this.getImaginary())},subtract:function(e){return e instanceof t?new t(this.getReal().subtract(e.getReal()),this.getImaginary().subtract(e.getImaginary())):new t(this.getReal().subtract(e),this.getImaginary())},multiply:function(e){if(e instanceof t){var n=this.getReal().multiply(e.getReal()).subtract(this.getImaginary().multiply(e.getImaginary())),r=this.getReal().multiply(e.getImaginary()).add(this.getImaginary().multiply(e.getReal()));return new t(n,r)}return new t(this.getReal().multiply(e),this.getImaginary().multiply(e))},divide:function(e){if(e instanceof t){var n=e.getReal().multiply(e.getReal()).add(e.getImaginary().multiply(e.getImaginary())),r=this.getReal().multiply(e.getReal()).add(this.getImaginary().multiply(e.getImaginary())),i=this.getImaginary().multiply(e.getReal()).subtract(this.getReal().multiply(e.getImaginary()));return r=r.divide(n),i=i.divide(n),new t(r,i)}return new t(this.getReal().divide(e),this.getImaginary().divide(e))},angle:function(t){var n=this,r=new e(Math.atan(n.getImaginary().divide(n.getReal()).toNumber()));return n.getReal().toNumber()<0?n.getImaginary().toNumber()<0?(new e(Math.PI)).subtract(r):(new e(Math.PI)).add(r):r},complexConjugate:function(){return new t(this.getReal(),this.getImaginary().negative())},toString:function(){var e="";return this.isZero()?"0":(this.getReal().isZero()||(e+=this.getReal().toString()),this.getImaginary().isZero()||(this.getReal().isZero()?e+=this.getImaginary().toNumber()<0?" - ":"":e+=this.getImaginary().toNumber()<0?" - ":" + ",e+="i",this.getImaginary().abs().equals(1)||(e+=this.getImaginary().abs().toNumber().toString())),e)}},t}();return t}),define("Numbers/FractionalNumber",["Numbers/JSNumber"],function(e){function t(e){if(e.toNumber)return e.toNumber();if(typeof e=="number")return e;throw"NaN"}function n(t){return t instanceof e||typeof t=="number"||t===e.Zero}function r(e,t){return t===0?e:r(t,e%t)}function s(e){return Math.abs(e)>i}var i=Math.pow(2,53),o=function(){function e(e,t){var n,i,s;if(arguments.length>=1){n=Number(arguments[0]);if(arguments.length>=2){if(arguments[0].isAGNumber||arguments[1].isAGNumber)return arguments[0].divide(arguments[1]);i=Number(arguments[1])}else{if(arguments[0].isAGNumber)return arguments[0];i=1}}else n=1,i=1;s=!!(n<0^i<0),n=Math.abs(n%1===0?n:Math.round(n)),i=Math.abs(i%1===0?i:Math.round(i));var o=!1;this.reduce=function(){var e;if(!o){while((e=r(n,i))!==1)n/=e,i/=e;o=!0}return this},this.isNegative=function(){return s},this.negativeFactor=function(){return s?-1:1},this.getNumerator=function(){return n},this.getDenominator=function(){return i},this.toNumber=function(){return n/i*(s?-1:1)}}return e.prototype={isAGNumber:!0,isZero:function(e){return e||(e=1e-6),this.abs().toNumber()<e},equals:function(e,n){return e=t(e),n||(n=1e-6),this.subtract(e).abs().toNumber()<n},negative:function(){return new e(-this.getNegative()*this.getNumerator(),this.getDenominator())},abs:function(){var t=this.toNumber();return new e(this.getNumerator(),this.getDenominator())},inverse:function(){return this.isNegative()?new e(-this.getDenominator(),this.getNumerator()):new e(this.getDenominator(),this.getNumerator())},add:function(r){var i;if(r instanceof e){var o,u;o=this.negativeFactor()*this.getNumerator()*r.getDenominator()+r.negativeFactor()*r.getNumerator()*this.getDenominator(),u=this.getDenominator()*r.getDenominator();if(s(o)||s(u))this.reduce(),r.reduce(),o=this.negativeFactor()*this.getNumerator()*r.getDenominator()+r.negativeFactor()*r.getNumerator()*this.getDenominator(),u=this.getDenominator()*r.getDenominator();return new e(o,u)}if(r.isAGNumber){if(!n(r))return r.add(this);i=r.toNumber()}else i=t(r);var o=this.negativeFactor()*this.getNumerator()+i*this.getDenominator();return s(o)&&(this.reduce(),o=this.negativeFactor()*this.getNumerator()+i*this.getDenominator()),new e(o,this.getDenominator())},subtract:function(r){var i;if(r instanceof e){var o,u;o=this.negativeFactor()*this.getNumerator()*r.getDenominator()-r.negativeFactor()*r.getNumerator()*this.getDenominator(),u=this.getDenominator()*r.getDenominator();if(s(o)||s(u))this.reduce(),r.reduce(),o=this.negativeFactor()*this.getNumerator()*r.getDenominator()-r.negativeFactor()*r.getNumerator()*this.getDenominator(),u=this.getDenominator()*r.getDenominator();return new e(o,u)}if(r.isAGNumber){if(!n(r))return r.subtract(this).negative();i=r.toNumber()}else i=t(r);var o=this.negativeFactor()*this.getNumerator()-i*this.getDenominator();return s(o)&&(this.reduce(),o=this.negativeFactor()*this.getNumerator()-i*this.getDenominator()),new e(o,this.getDenominator())},multiply:function(r){var i;if(r instanceof e){var o,u;o=this.negativeFactor()*this.getNumerator()*r.negativeFactor()*r.getNumerator(),u=this.getDenominator()*r.getDenominator();if(s(o)||s(u))this.reduce(),r.reduce(),o=this.negativeFactor()*this.getNumerator()*r.negativeFactor()*r.getNumerator(),u=this.getDenominator()*r.getDenominator();return new e(o,u)}if(r.isAGNumber){if(!n(r))return r.multiply(this);i=r.toNumber()}else i=t(r);Math.abs(i)<1&&(i=1/i);var o=this.negativeFactor()*this.getNumerator()*i;return s(o)&&(this.reduce(),o=this.negativeFactor()*this.getNumerator()*i),new e(o,this.getDenominator())},divide:function(r){var i;if(r instanceof e){var o,u;o=this.negativeFactor()*this.getNumerator()*r.negativeFactor()*r.getDenominator(),u=this.getDenominator()*r.getNumerator();if(s(o)||s(u))this.reduce(),r.reduce(),o=this.negativeFactor()*this.getNumerator()*r.negativeFactor()*r.getDenominator(),u=this.getDenominator()*r.getNumerator();return new e(o,u)}if(r.isAGNumber){if(!n(r))return r.divide(this).inverse();i=r.toNumber()}else i=t(r);Math.abs(i)<1&&(i=1/i);var u=this.getDenominator()*i;return s(u)&&(this.reduce(),u=this.getDenominator()*i),new e(this.negativeFactor()*this.getNumerator(),u)},toString:function(){return this.reduce(),this.negativeFactor()*this.getNumerator()+"/"+this.getDenominator()}},e}();return o}),define("Math",["Matrix/Matrix","Matrix/Vector","Numbers/JSNumber","Numbers/ComplexNumber","Numbers/FractionalNumber"],function(e,t,n,r,i){return{Matrix:{Matrix:e,Vector:t},Numbers:{JSNumber:n,ComplexNumber:r,FractionalNumber:i}}});